<!DOCTYPE html>

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>

{% load static %}

{% load fontawesome_5 %}

{% fontawesome_5_static %}

<link rel="stylesheet" type="text/css" href="{% static 'css/myplants.css' %}">

<html lang="en">
	<body>
		<div class="logout">
			<a href="#" onClick="document.getElementById('logoutform').submit()"><button class="button" type="button">Logout</button></a>
			<form id="logoutform" method="POST" action="{% url 'customuser:logout' %}">
			{% csrf_token %}
			<input type="hidden">
			</form>
		</div>

		

		<div class="plantcontainer">

			{% for plant in plants %}

			

			<a class="plantdiv" href="/myplants/{{ plant.0.id }}">
				{% if not plant.1 %}
				<div class="arrow-right" data-toggle="tooltip" data-placement="bottom" title="Missing database values, please check system configuration" style="background-color: red;"><span>{% fa5_icon 'database' 'fas' %}</span></div>
				{% else %}
				<div class="arrow-right" data-toggle="tooltip" data-html="true" data-placement="bottom" title="<p>VPD (Vapor Pressure Deficit) is looking okay, but it could be better.</p> <p>Lowering the temperature by 3Â°C, or increasing the humidity by 7% would make it even better!</p> <p> If the air is hot or dry, the difference in vapor pressure can be too great and can cause plants to become stressed under rapid transpiration. This can result in nutrient toxicity due to excessive uptake of nutrients (even if fed with just water). </p>" style="background-color: #526b2d; background-color: #DAA520"><span>{% fa5_icon 'wind' 'fas' %}</span></div>
				{% endif %}
				<div class="imagecontainer">
					{% if plant.0.plant_pic %}
						<img src="{{ plant.0.plant_pic.url }}" class="img"/>
					{% else %}
						<img src="/static/images/plant.png" class="img"/>
					{% endif %}
				</div>
				
				{% if plant.0.nickname %}
				
				<div class="namecontainer">
				<p class="link">{{ plant.0.nickname }}</p>
					{% if not plant.1 %}
						<p class="valuelink">Missing values!</p>
					{% endif %}
				
				{% else %}
				
				<p class="link">{{ plant.0.deviceid }}</p>
					{% if not plant.1 %}
						<p class="valuelink">Missing values!</p>
					{% endif %}
				
				{% endif %}
				</div>
			</a>
			{% endfor %}

			<a class="plantdiv" href="/addplant/">				
				<div class="imagecontainer">
					<img src="/static/images/plus.png" class="img">
				</div>
				<div class="namecontainer">
					<p class="link">Add a new plant</p>
				</div>
			</a>

		</div>
	</body>
</html>

<script>
$(document).ready(function(){
  $('[data-toggle="tooltip"]').tooltip();   
});
</script>